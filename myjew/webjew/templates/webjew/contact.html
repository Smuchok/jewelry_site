{% extends 'webjew/base.html' %}
{% load static %}

{% block content %}

<style>
	.contact-section {
			padding: 50px 0;
			text-align: center;
	}
	.contact-section h2 {
		margin-bottom: 40px;
	}
	.contact-details {
		margin-bottom: 20px;
		align-self: center;
	}
	.contact-details-2 {
		align-items: center;
	}
	.contact-details p {
			margin: 5px 0;
			text-align: left;
	}
	.contact-details button {
		margin-top: 50px;
	}
	.contact-details img {
		height: auto;
		width: 45px;
	}

	.map-container {
			text-align: center;
	}
	.map-container iframe {
			width: 100%;
			height: 400px;
			border: 0;
			border-radius: 10px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	}
</style>

<div class="container contact-section">
	<h2>Способи зв'язку із нами</h2>

	<div class="row">
		<div class="col-md-6 contact-details">
			
			<div class="row contact-details-2">
				<div class="col-6">
					<img src="{% static 'webjew/img/rest/location-icon.png' %}" alt="location-icon.png">
				</div>
				<div class="col-6">
					<p>м. Львів, Верхній Шувар, Сихівський район</p>
				</div>
			</div>

			<div class="row contact-details-2">
				<div class="col-6">
					<img src="{% static 'webjew/img/rest/phone-icon.png' %}" alt="phone-icon.png">
				</div>
				<div class="col-6">
					<p>+(380)67-754-22-87</p>
					<p>+(380)97-768-47-53</p>
					<p>+(380)63-715-32-34</p>
				</div>
			</div>

			<div class="row contact-details-2">
				<div class="col-6">
					<img src="{% static 'webjew/img/rest/email-icon.png' %}" alt="email-icon.png">
				</div>
				<div class="col-6">
					<p>fanta1281@gmail.com</p>
				</div>
			</div>

			<button class="btn btn-dark btn-consultation" onclick="openPopupAdvice()">Консультація</button>
		</div>

		<div class="col-md-6 map-container">
			<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3269.112139248586!2d23.995937615246014!3d49.78523197939468!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473add2c47eec11f%3A0x5af15a5c1d2b4981!2sLviv!5e0!3m2!1sen!2sua!4v1625055379635!5m2!1sen!2sua" allowfullscreen="" loading="lazy"></iframe>
		</div>
	</div>
</div>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<!-- модальне вікно консультація -->
<div>
<!-- модальне вікно консультація -->
<div class="popup" id="popupAdvice">
    <div class="popup-content">
        <span class="close-btn" onclick="closePopupAdvice()">&times;</span>
        <h2>Заповніть для запису на консультацію:</h2>

        <form action="{{ request.path }}" method="post" id="adviceForm">
          {% csrf_token %}
          <div class="form-error">{{ advice_form.non_field_errors }}</div>

          {{advice_form.name}}
          <!-- <input type="text" placeholder="Ваше ім’я"> -->
          {{advice_form.email}}
          <!-- <input type="email" placeholder="e-mail"> -->
          {{advice_form.phone_number}}
          <!-- <input type="tel" placeholder="номер телефону"> -->
          <!-- {{advice_form.page_url}} -->
          <button type="submit">Записатись</button>
        </form>

        <p>*Консультація безкоштовна</p>
    </div>
</div>

<script>
	// Скрипт, щоб поставити placeholder в форму
	placeholders = (
	  ('id_name', "Ваше ім'я"),
	  ('id_email', "email"),
	  ('id_phone_number', "номер телефону")
	)
	placeholders = {
	  'id_name': "Ваше ім'я",
	  'id_email': "email",
	  'id_phone_number': "номер телефону"
	}
	for (const [key, value] of Object.entries(placeholders)) {
	  // console.log('ph', key, value)
	  document.getElementById(key).setAttribute('placeholder', value)
	}
  
	function closePopupAdvice() {
	  document.getElementById('popupAdvice').style.display = 'none';
	}
	// Скрипт, щоб відкрити спливаюче вікно
	function openPopupAdvice() {
	  document.getElementById('popupAdvice').style.display = 'flex';
	}
  </script>  

<!-- тег для покажу сповіщення про успішну форму  фідбеку-->
<div style="display: none;" id="form_success_indicator_advice">{% if form_success_advice %}True{% else %}False{% endif %}</div>

<script>
  document.getElementById('adviceForm').getElementById('id_text').setAttribute('placeholder', 'напишіть ...');
//   document.getElementById('adviceForm').getElementById('id_page_url').style.display = 'none';
//   document.getElementById('adviceForm').getElementById('id_page_url').value = '{{ request.path }}'
</script>

<div class="confirmation-popup" id="confirmationPopupAdvice">
  <div class="confirmation-content">
      <span class="close-btn" onclick="closeConfirmationAdvicePopup()">&times;</span>
      <img src="https://img.icons8.com/ios-filled/50/000000/checkmark.png" alt="Підтверджено">
      <p>Вас записано!</p>
  </div>
</div>

<script>
	function closeConfirmationAdvicePopup() {
	  document.getElementById('confirmationPopupAdvice').style.display = 'none';
	}
	// Ви можете викликати цей скрипт, щоб відкрити спливаюче вікно підтвердження
	function openConfirmationAdvicePopup() {
	  document.getElementById('confirmationPopupAdvice').style.display = 'flex';
	}
  
	if (document.getElementById('form_success_indicator_advice').textContent=='True') {
	  openConfirmationAdvicePopup()
	  var delayInMilliseconds = 2500; // 2.5s
	  setTimeout(function() {
		closeConfirmationAdvicePopup()
	  }, delayInMilliseconds);
	}	
</script>
</div>
  

{% endblock %}
